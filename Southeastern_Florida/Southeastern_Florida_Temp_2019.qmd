---
title: "Southeastern_Florida_Temp_2019"
author: "Maddy Enda"
format: html
editor: visual
---

# Temperature Data 2026 Update: Southeastern Florida

### Author- Madison Enda, February 11th, 2026

### Contact- madison.enda\@myfwc.com

## Overview:

-   In this script, we will be cleaning the SECREMP 2019 temperature data, and compiled from individual site temperature files.

## Import Libraries

```{r}
# Install librarian for multiple packages and quick readability
# install.packages("librarian")

# Using librarian::shelf to import many libraries at once
librarian::shelf(tidyverse, dplyr, here, readxl, purrr, hms, lubridate)
```

## Loading in the .csv files

```{r}
secremp_temp_18_19 <- read_csv(
  "C:/Users/Madison.Enda/Desktop/Temp_Data/SECREMP_Master_Files/temp_2018-2022/SE_Temperature_18-19.csv",
  locale = locale(encoding = "Latin1"),
  col_types = cols(Time = col_character())
)
```

The columns that we are looking to make in order to be standardized with the CREMP data are: - date - time - temp_C - temp_F - site - site_id - region - habitat - station - observation_id

First, let's convert our Year, Month, and Day columns into a date column!

### Convert the date column to date data types

```{r}
# Make the date column a date object
secremp_temp_18_19$Date <- mdy(secremp_temp_18_19$Date)
```
### Find strange date time formats

```{r}
# Take a look at the SECREMP date patterns for 2019
date_patterns <- secremp_temp_18_19 %>%
  mutate(
    date_pattern = gsub("[0-9]", "D", Date)
  ) %>%
  count(date_pattern, sort = TRUE)
```

- It appears as though we have NA values for some reason. Let's take a look at them

```{r}
# Look at the NA values in date
NA_values <- secremp_temp_18_19 %>%
  filter(is.na(Date))

# Remove the NA values as they contained no data
secremp_temp_18_19 <- secremp_temp_18_19 %>%
  filter(!is.na(Date))
```

- After the NA values were removed, the data type changed to Date, so we do not need to convert this column again

### Create a temp_F column

```{r}
# Convert the temp_C column to Fahrenheit
secremp_temp_18_19 <- secremp_temp_18_19 %>%
  mutate(temp_F = `Temp °C` * 1.8 + 32)
```

### Change column names for standardization

```{r}
# Rename old columns to be snake case (`Temp C` to Temp_C)  
southeastern_florida_master_2025 <- filtered_temp %>%
  rename(
    date = Date,
    time = Time,
    site = Site,
    site_id = siteid,
    temp_C = `Temp C`,
    temp_F = `Temp F`,
    region = Region,
    habitat = Habitat,
    station = Station
  )
```














### Make the time column an hour in military format

```{r}
# Convert to integer before applying time
secremp_2017_2018$Time <- as.integer(secremp_2017_2018$Time)

# Convert the integer to a hour
secremp_2017_2018$Time <- hms::hms(hours = secremp_2017_2018$Time)
```

### Rename the columns

```{r}
# Rename old columns to be snake case (`Temp C` to Temp_C)  
secremp_2017_2018 <- secremp_2017_2018 %>%
  rename(
    time = Time,
    site = Site,
    temp_C = TempC,
    temp_F = TempF,
    station_id = StationID
  )
```

### Assigning a primary key: observation_id

```{r}
# Create a column called Observation_ID
secremp_2017_2018 <- secremp_2017_2018 %>%
  arrange(date) %>% # oldest → newest
  mutate(observation_id = row_number()) # oldest value gets ID = 1

# Reorder the columns in the dataframe
secremp_2017_2018 <- secremp_2017_2018 %>%
  select(observation_id, date, everything())
```

```{r}
colSums(is.na(secremp_2017_2018))
```

### Filter out erroneous data:

There appear to be three observations where the temperature in Celsius is missing and for some reason Fahrenheit is 32 degrees. This seems very wrong, so I will be removing these values.

The highest temperature of 95 degrees was recorded a couple of hours before that logger is recorded as being picked up, in the afternoon/early evening of June 28th, 2017. Therefore that value will be kept in.

```{r}
# Remove the odd freezing values
secremp_2017_2018 <- secremp_2017_2018 %>%
  filter(temp_F > 32)
```

### Write the file to our current working directory'

```{r}
# Write the final data frame to a csv in my current working directory
write.csv(secremp_2017_2018, "southeastern_florida_temp_2017_2018.csv", row.names = FALSE)
```
